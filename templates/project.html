{% extends 'layout.html' %}

{% block body %}

<div class="container">

    <div style="margin-top: 5rem;" class="row flex">
        <div class="col s12 m6 l4 ">
            <h2 style="font-weight: 600;">{{current.title}}</h2>
            <h5>{{current.byline}}</h5>
            <p>({{current.year}})</p>
        </div>

    <div class="col s12 m6 l8">
        <!-- <img class="materialboxed responsive-img" src="{{url_for('static', filename=current.hero_image)}}"> -->
    </div>
    </div> <!--end row -->




<!-- NOVA IDEJA -->



{% with newdict=current.media|dictsort %}

{% set row_class = cycler('col s12 m8 l8', 'col s12 m4 l4', 'col s12 m8 push-m4 l8 push-l4', 'col s12 m4 pull-m8 l4 pull-l8') %}
   
    {% for k, v in newdict %}

      
      

      {% if loop.index is odd %} <div class="row flex {{loop.index}}">{% endif %}


        {#   lets chek if the sorce is local #}

        {% if 'http' in v %}
          {% set not_local =true %}
        {% endif %}


        {% if 'text' in k %}
        <div class="{{ row_class.next() }}">
            <p>{{v}}</p><!-- text -->
        </div>
        {% endif %}
        
        {% if 'video' in k  and not_local %}
            <div class="{{ row_class.next() }}">
                <div class="video-container  ">
                    <iframe src="{{v|safe}}"></iframe><!-- video -->
                </div>
            </div>
        {% endif %}

         {% if 'video' in k  and 'text' not in k and not not_local %}
         <div class="{{ row_class.next() }}">
            <video class="responsive-video" controls>
                <source src="{{v}}" type="video/mp4"><!-- video -->
            </video>
        </div>
        {% endif %}
        

        {% if 'img' in k and 'text' not in k %}
        <div class="{{ row_class.next() }}">
            <img class="materialboxed responsive-img " src="{% if not_local %} {{v}} {% else %} {{url_for('static', filename=v)}} {% endif %}"><!-- image -->
        </div>
        {% endif %}
    

   
    {% if loop.index is even %}</div>{% endif %}
    {% endfor %}

 
    
{% endwith %}


 




 

</div><!-- end container -->



{% endblock %}

